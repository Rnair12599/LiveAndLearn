(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{247:function(e,t,a){e.exports=a(621)},252:function(e,t,a){},253:function(e,t,a){},489:function(e,t){},621:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(27),s=a.n(r),i=(a(252),a(21)),o=a(22),c=a(24),u=a(23),m=a(19),h=a(25),d=(a(253),a(49)),p=a(88),g=a.n(p);g.a.initializeApp({apiKey:"AIzaSyDT8vlV4rmSkA29wHnamuDAszkx_rTzw6s",authDomain:"hacksc-2020-72721.firebaseapp.com",databaseURL:"https://hacksc-2020-72721.firebaseio.com",projectId:"hacksc-2020-72721",storageBucket:"hacksc-2020-72721.appspot.com",messagingSenderId:"120013387215",appId:"1:120013387215:web:fc65d61082c955dff94eba"});var y=g.a.firestore(),f=g.a,b=a(10),v=a(59),E=a.n(v),k=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(b.q,{color:"dark-green",dark:!0,expand:"md"},l.a.createElement(b.r,null,l.a.createElement("strong",{className:"white-text"}," EducateMe")," ",l.a.createElement(b.j,{icon:"apple-alt"})),l.a.createElement(b.t,{onClick:this.toggleCollapse}),l.a.createElement(b.s,{left:!0},l.a.createElement(b.o,null,l.a.createElement(b.p,{to:"../"},l.a.createElement(b.j,{icon:"home"}),"Home")),l.a.createElement(b.o,null,l.a.createElement(b.p,{to:"/streams"},l.a.createElement(b.j,{icon:"video"}),"Streams")),l.a.createElement(b.o,null,l.a.createElement(b.p,{to:"/profile"},l.a.createElement(b.j,{icon:"user-edit"}),"Profile")),l.a.createElement(b.o,null,l.a.createElement(b.p,{to:"/guide"},l.a.createElement(b.j,{icon:"clipboard-list"}),"Guide")),l.a.createElement(b.o,null,l.a.createElement(b.p,{to:"/dashboard"},l.a.createElement(b.j,{icon:"question"}),"Dashboard")))))}}]),t}(n.Component),C=(a(36),a(53)),j=(a(617),new C.a("4zbz7yw374h6"));j.setUser({id:"divine-art-9",name:"Divine art",image:"https://getstream.io/random_svg/?id=divine-art-9&name=Divine+art"},"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoiZGl2aW5lLWFydC05In0.0Ce-vmn7fcec-PCD2OWy3sIVRLrmKRhBXp69vSGlgtw");j.channel("livestream","spacex",{image:"https://goo.gl/Zefkbx",name:"SpaceX launch discussion"});var O=a(43),w=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleClick=function(e,t){e.upvotes++,y.collection("questions").doc(e.uid).set({question:e.question,upvotes:e.upvotes});var n=[];y.collection("questions").get().then((function(e){e.forEach((function(e){n.push(e.data()),a.state.questions=n}))}))},a.logout=a.logout.bind(Object(m.a)(a)),a.handleChange=a.handleChange.bind(Object(m.a)(a)),a.submitQuestion=a.submitQuestion.bind(Object(m.a)(a)),a.componentDidMount=a.componentDidMount.bind(Object(m.a)(a)),a.componentDidUpdate=a.componentDidUpdate.bind(Object(m.a)(a)),a.state={apiResponse:"default testAPI state",question:"",questions:[],upvotes:[]},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){console.log(e.target.name),this.setState(Object(O.a)({},e.target.name,e.target.value)),console.log(e.target.value),console.log(this.state.name)}},{key:"submitQuestion",value:function(e){var t=a(60)();f.firestore().doc("/questions/".concat(t)).set({uid:t,question:this.state.question,upvotes:0})}},{key:"componentDidMount",value:function(){var e=this,t=[];y.collection("questions").get().then((function(a){a.forEach((function(a){t.push(a.data()),e.state.questions=t}))}))}},{key:"componentDidUpdate",value:function(){var e=this,t=[];y.collection("questions").get().then((function(a){a.forEach((function(a){t.push(a.data()),e.state.questions=t}))}))}},{key:"logout",value:function(){f.auth().signOut()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"}},l.a.createElement(b.i,null,l.a.createElement(b.d,null,l.a.createElement("center",null,l.a.createElement("h1",null,"EducateMe"),l.a.createElement("h3",null,"Free interactive live streams for educators and students")," ",this.state.questions.map((function(t,a){return l.a.createElement(b.m,{className:"d-flex justify-content-between align-items-center",key:a},t.question," ",l.a.createElement(b.j,{value:t,onClick:e.handleClick.bind(e,t),icon:"thumbs-up"}," ",t.upvotes," "))})),l.a.createElement(b.l,{value:this.state.question,onChange:this.handleChange,label:"Ask a question",name:"question",type:"text",error:"wrong",success:"right"}),l.a.createElement(b.c,{color:"green",type:"button",onClick:this.submitQuestion},"Submit")))))}}]),t}(n.Component),I=function(e){function t(e){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"}},l.a.createElement(b.i,null,l.a.createElement(b.d,null,l.a.createElement("center",null,l.a.createElement("h1",null,"EducateMe"),l.a.createElement("h3",null,"Free interactive live streams for educators and students"),l.a.createElement("p",null))))))}}]),t}(n.Component),D=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this)))._isMounted=!1,e.updateInfo=e.updateInfo.bind(Object(m.a)(e)),e.handleChange=e.handleChange.bind(Object(m.a)(e)),e.state={email:"",streamDescription:"",playbackID:"",streamTitle:"",streamCategory:"",streamURL:""},e}return Object(h.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){this._isMounted&&(console.log(e.target.name),this.setState(Object(O.a)({},e.target.name,e.target.value)),console.log(e.target.value)),console.log(this.state.name)}},{key:"handleErrors",value:function(e){if(!e.ok)throw Error(e.statusText);return e}},{key:"fetchStatusHandler",value:function(e){if(200===e.status)return e;throw new Error(e.statusText)}},{key:"updateInfo",value:function(){if(""!=this.state.email){var e=this;y.collection("users").doc(this.state.email).onSnapshot({includeMetadataChanges:!0},(function(t){try{e.setState({streamDescription:t.data().streamDescription,playbackID:t.data().playbackID,streamTitle:t.data().streamTitle,streamCategory:t.data().streamCategory});var a="https://stream.mux.com/"+t.data().playbackID+".m3u8";fetch(a).then((function(t){if(!t.ok)return alert("offline?"),void e.setState({streamTitle:"OFFLINE",streamDescription:"OFFLINE",streamCategory:"OFFLINE"});e.setState({streamURL:a}),console.log("allow it")})).catch((function(e){alert("Stream is currently offline!")}))}catch(n){alert("Something went wrong"),0}}))}else alert("please enter a valid email")}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"render",value:function(){return l.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"}},l.a.createElement(b.i,null,l.a.createElement(b.d,null,l.a.createElement("center",null,l.a.createElement(b.c,{color:"green",type:"button",onClick:this.updateInfo},"Load Stream"),l.a.createElement(E.a,{url:this.state.streamURL,playing:"true"}),l.a.createElement(b.l,{value:this.state.email,onChange:this.handleChange,label:"Enter user's email",group:!0,name:"email",type:"text",error:"wrong",success:"right",required:!0}),l.a.createElement("h4",null,"Title: ",this.state.streamTitle),l.a.createElement("h5",null,"Description: ",this.state.streamDescription),l.a.createElement("h6",null,"Category: ",this.state.streamCategory),l.a.createElement("p",null)))))}}]),t}(n.Component),S=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this)))._isMounted=!1,e.generateKey=function(){null==e.state.streamKey?(fetch("http://localhost:9000/streamLive",{method:"POST"}).then((function(e){return e.json()})).then((function(t){return e.setState({streamKey:t.stream_key,playbackID:t.playbackid})})),e.updateInfo()):alert("You already have a stream key.")},e.updateInfo=e.updateInfo.bind(Object(m.a)(e)),e.handleChange=e.handleChange.bind(Object(m.a)(e)),e.generateKey=e.generateKey.bind(Object(m.a)(e)),e.state={streamKey:"",streamDescription:"",playbackID:"",streamTitle:"",streamCategory:""},e}return Object(h.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){console.log(e.target.value),this._isMounted&&this.setState(Object(O.a)({},e.target.name,e.target.value))}},{key:"updateInfo",value:function(e){y.collection("users").doc(f.auth().currentUser.email).update({streamKey:this.state.streamKey,playbackID:this.state.playbackID,streamTitle:this.state.streamTitle,streamDescription:this.state.streamDescription,streamCategory:this.state.streamCategory}).then((function(){alert("UPDATE DONE")})).catch((function(e){alert("something went wrong..")}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){this._isMounted=!0;var e=this;f.auth().onAuthStateChanged((function(t){if(t){var a=0,n=y.collection("users").doc(f.auth().currentUser.email);f.auth().currentUser.email;n.onSnapshot({includeMetadataChanges:!0},(function(t){try{e.setState({email:t.data().email,streamKey:t.data().streamKey,streamDescription:t.data().streamDescription,playbackID:t.data().playbackID,streamTitle:t.data().streamTitle,streamCategory:t.data().streamCategory})}catch(n){console.log("We getting an error: ",n),a=0}})),1==a||e.setState({budget:["N/A"]})}}))}},{key:"logout",value:function(){f.auth().signOut()}},{key:"render",value:function(){return l.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"}},l.a.createElement(b.i,null,l.a.createElement(b.d,null,l.a.createElement("center",null,l.a.createElement("h3",null,"Stream Configurations"),l.a.createElement(b.l,{value:this.state.streamTitle,onChange:this.handleChange,label:"Stream Title",group:!0,name:"streamTitle",type:"text",error:"wrong",success:"right",required:!0}),l.a.createElement(b.l,{value:this.state.streamDescription,onChange:this.handleChange,label:"Stream Description",group:!0,name:"streamDescription",type:"text",error:"wrong",success:"right",required:!0}),l.a.createElement(b.l,{value:this.state.streamCategory,onChange:this.handleChange,label:"Stream Category",group:!0,name:"streamCategory",type:"text",error:"wrong",success:"right",required:!0}),l.a.createElement(b.l,{value:this.state.streamKey,onChange:this.handleChange,label:"Stream Key",group:!0,name:"streamKey",type:"text",error:"wrong",success:"right",disabled:!0}),l.a.createElement(b.l,{value:this.state.playbackID,onChange:this.handleChange,label:"Playback ID",group:!0,name:"playbackID",type:"text",error:"wrong",success:"right",disabled:!0}),l.a.createElement("div",{className:"text-center py-4 mt-3"},l.a.createElement(b.c,{color:"primary",type:"button",onClick:this.updateInfo},l.a.createElement(b.j,{icon:"edit"}),"Update Info"),l.a.createElement(b.c,{color:"warning",type:"button",onClick:this.generateKey},l.a.createElement(b.j,{icon:"key"}),"Generate Key"),l.a.createElement(b.c,{color:"success",type:"button",onClick:this.logout},"Logout"))))))}}]),t}(n.Component),x=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"}},l.a.createElement(b.i,null,l.a.createElement(b.d,null,l.a.createElement("center",null,l.a.createElement("h3",null,"Categories here!"),l.a.createElement("p",null,"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.")))))}}]),t}(n.Component),L=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"}},l.a.createElement(b.i,null,l.a.createElement(b.d,null,l.a.createElement("center",null,l.a.createElement(b.g,null,"Card title"),l.a.createElement(b.f,null,"Some quick example text to build on the card title and make up the bulk of the card's content."),l.a.createElement("h3",null,"Guide here!"),l.a.createElement("p",null,"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.")))))}}]),t}(n.Component),q=function(){return l.a.createElement(d.c,null,l.a.createElement(d.a,{exact:!0,path:"/",component:I}),l.a.createElement(d.a,{path:"/streams",component:D}),l.a.createElement(d.a,{path:"/profile",component:S}),l.a.createElement(d.a,{path:"/categories",component:x}),l.a.createElement(d.a,{path:"/guide",component:L}),l.a.createElement(d.a,{path:"/dashboard",component:w}))},T=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(m.a)(a)),a.signup=a.signup.bind(Object(m.a)(a)),a.state={name:"",email:"",password:""},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(O.a)({},e.target.name,e.target.value))}},{key:"signup",value:function(e){""!=this.state.name&&""!=this.state.email&&""!=this.state.password?(e.preventDefault(),f.auth().createUserWithEmailAndPassword(this.state.email,this.state.password).then((function(e){})).then((function(e){console.log(e)})).catch((function(e){console.log(e),alert(e)})),f.firestore().doc("/users/".concat(this.state.email)).set({name:this.state.name,password:this.state.password,streamKey:null,playbackID:null,streamTitle:null,streamDescription:null,streamCategory:null})):alert("please fill out all fields")}},{key:"render",value:function(){return l.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"3vh",width:"1000px"}},l.a.createElement(b.n,null,l.a.createElement(b.i,null,l.a.createElement(b.w,null,l.a.createElement(b.h,{md:"6"},l.a.createElement(b.d,null,l.a.createElement(b.e,null,l.a.createElement("form",null,l.a.createElement("p",{className:"h4 text-center py-4"},"Sign up"),l.a.createElement("div",{className:"grey-text"},l.a.createElement(b.l,{value:this.state.name,onChange:this.handleChange,label:"Your name",icon:"user",group:!0,name:"name",type:"text",validate:!0,error:"wrong",success:"right"}),l.a.createElement(b.l,{value:this.state.email,onChange:this.handleChange,label:"Your email",icon:"envelope",group:!0,name:"email",type:"email",validate:!0,error:"wrong",success:"right"}),l.a.createElement(b.l,{value:this.state.password,onChange:this.handleChange,label:"Your password",icon:"lock",group:!0,name:"password",type:"password",validate:!0})),l.a.createElement("div",{className:"text-center py-4 mt-3"},l.a.createElement(b.c,{color:"orange",type:"submit",onClick:this.signup},"Register"),l.a.createElement(b.c,{color:"blue",type:"submit",onClick:"close"},"Close"))))))))))}}]),t}(n.Component),M=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).login=a.login.bind(Object(m.a)(a)),a.handleChange=a.handleChange.bind(Object(m.a)(a)),a.signup=a.signup.bind(Object(m.a)(a)),a.state={email:"",password:"",showsignup:!1},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"login",value:function(e){e.preventDefault(),console.log(this.state.email),f.auth().signInWithEmailAndPassword(this.state.email,this.state.password).then((function(e){})).catch((function(e){alert(e)}))}},{key:"handleChange",value:function(e){this.setState(Object(O.a)({},e.target.name,e.target.value))}},{key:"signup",value:function(e){this.setState({showsignup:!0})}},{key:"render",value:function(){return l.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"}},l.a.createElement(b.i,null,l.a.createElement(b.d,{style:{justifyContent:"center",padding:"50px"}},l.a.createElement("form",null,l.a.createElement("p",{className:"h5 mb-4"},"Sign in to EducateMe"),l.a.createElement("div",{className:"grey-text"},l.a.createElement(b.l,{value:this.state.email,onChange:this.handleChange,label:"Type your email",icon:"envelope",group:!0,name:"email",type:"email",validate:!0,error:"wrong",success:"right"}),l.a.createElement(b.l,{value:this.state.password,onChange:this.handleChange,label:"Type your password",icon:"lock",group:!0,name:"password",type:"password",validate:!0})),l.a.createElement("div",{className:"d-inline"},l.a.createElement(b.c,{type:"submit",onClick:this.login},"Login")),l.a.createElement("div",{className:"d-inline"},l.a.createElement(b.c,{color:"indigo",onClick:this.signup},"SignUp"),this.state.showsignup?l.a.createElement(T,null):null)))))}}]),t}(n.Component),K=(a(618),a(619),a(620),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={user:null,name:""},e.authListener=e.authListener.bind(Object(m.a)(e)),e}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,this.state.user?l.a.createElement(k,null):"",this.state.user?l.a.createElement(q,null):l.a.createElement(M,null))}},{key:"componentDidMount",value:function(){this.authListener()}},{key:"authListener",value:function(){var e=this;f.auth().onAuthStateChanged((function(t){t?(e.setState({user:t}),localStorage.setItem("user",t.uid)):(e.setState({user:null}),localStorage.removeItem("user"))}))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var U=a(42);s.a.render(l.a.createElement(U.a,null,l.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[247,1,2]]]);
//# sourceMappingURL=main.680b2a2d.chunk.js.map